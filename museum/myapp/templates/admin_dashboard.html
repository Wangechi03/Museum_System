{% extends 'base.html' %}
{% block content %}
<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

<!-- DataTables CSS -->
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.24/css/dataTables.bootstrap4.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.7.0/css/buttons.dataTables.min.css">

<style>

.content {
    margin-left: 270px; /* Adjust according to sidebar width */
    padding: 20px;
    margin-top: 60px; /* Adjusted for navbar height */
}

.card-header {
    background-color: #007bff; /* Blue background */
    color: white; /* White text */
}
</style>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <a class="navbar-brand" href="#">Admin Dashboard</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link" href="{% url 'visitor_details' %}">Visitor Details</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'view_booking' %}">Booking Details</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'emp_reg' %}">Employee Registration</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'department_reg' %}">Department Registration</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'artist_reg' %}">Artist Registration</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'artifact_reg' %}">Artifact Registration</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'user_logout' %}">Logout</a>
            </li>
        </ul>
    </div>
</nav>

<div class="content">
    <div class="container mt-5">
        <h1 class="mb-4">Admin Dashboard</h1>

        <!-- Employee Data -->
        <div class="card mb-4">
            <div class="card-header">
                <h2 class="h4">Employee Data</h2>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table id="employeeTable" class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th>First Name</th>
                                <th>Last Name</th>
                                <th>Department</th>
                                <th>Date of Birth</th>
                                <th>Sex</th>
                                <th>Designation</th>
                                <th>Address</th>
                                <th>Phone 1</th>
                                <th>Phone 2</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for employee in employees %}
                            <tr>
                                <td>{{ employee.first_name }}</td>
                                <td>{{ employee.last_name }}</td>
                                <td>{{ employee.department }}</td>
                                <td>{{ employee.date_of_birth }}</td>
                                <td>{{ employee.sex }}</td>
                                <td>{{ employee.designation }}</td>
                                <td>{{ employee.address }}</td>
                                <td>{{ employee.phone1 }}</td>
                                <td>{{ employee.phone2 }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Artist Data -->
        <div class="card mb-4">
            <div class="card-header">
                <h2 class="h4">Artist Data</h2>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table id="artistTable" class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th>First Name</th>
                                <th>Last Name</th>
                                <th>Nationality</th>
                                <th>Address</th>
                                <th>Date Of Birth</th>
                                <th>Phone</th>
                                <th>Artifact</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for artist in artists %}
                            <tr>
                                <td>{{ artist.first_name }}</td>
                                <td>{{ artist.last_name }}</td>
                                <td>{{ artist.nationality }}</td>
                                <td>{{ artist.address }}</td>
                                <td>{{ artist.date_of_birth }}</td>
                                <td>{{ artist.phone }}</td>
                                <td>{{ artist.artifact }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Artifact Data -->
        <div class="card mb-4">
            <div class="card-header">
                <h2 class="h4">Artifact Data</h2>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table id="artifactTable" class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Description</th>
                                <th>Incharge</th>
                                <th>Department</th>
                                <th>Cost</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for artifact in artifacts %}
                            <tr>
                                <td>{{ artifact.name }}</td>
                                <td>{{ artifact.description }}</td>
                                <td>{{ artifact.incharge }}</td>
                                <td>{{ artifact.department }}</td>
                                <td>{{ artifact.cost }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Department Data -->
        <div class="card mb-4">
            <div class="card-header">
                <h2 class="h4">Department Data</h2>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table id="departmentTable" class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Incharge</th>
                                <th>Opening Time</th>
                                <th>Closing Time</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for department in departments %}
                            <tr>
                                <td>{{ department.name }}</td>
                                <td>{{ department.incharge }}</td>
                                <td>{{ department.opening_time }}</td>
                                <td>{{ department.closing_time }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- jQuery and DataTables JS -->
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.24/js/dataTables.bootstrap4.min.js"></script>

<!-- DataTables Buttons JS -->
<script src="https://cdn.datatables.net/buttons/1.7.0/js/dataTables.buttons.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/1.7.0/js/buttons.html5.min.js"></script>

<script>
$(document).ready(function() {
    // Initialize DataTables for each table
    $('#employeeTable, #artistTable, #artifactTable, #departmentTable').DataTable({
        dom: 'Bfrtip',
        buttons: [
            'copy', 'csv', 'excel', 'pdf'
        ]
    });
});
</script>

{% endblock %}
